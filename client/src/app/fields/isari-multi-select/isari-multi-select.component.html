<div class="md-input-wrapper" (keyup)="onKey($event)">
  <div class="multiselect-container">
    
    <div [ngClass]="{'md-empty': empty }" style="flex-grow: 1">

      <input *ngIf="!disabled" class="md-input-element" spellcheck="false" type="text"
        [formControl]="selectControl"
        (focus)="onFocus($event)"
        (blur)="onBlur($event)">
      <label class="md-input-placeholder md-float" [ngClass]="{'md-empty': empty }">{{ label }}</label>
      <label class="md-input-placeholder md-float md-empty" *ngIf="!empty && !disabled">{{ altLabel }}</label>

      <div class="md-menu" [hidden]="!focused">
        <button [ngClass]="{active: currentIndex === i}"
          *ngFor="let entry of options;let i = index"
          md-button
          style="width:100%;display:flex;"
          (mousedown)="onSelect(i)">
          {{ entry.label }}
        </button>
        <button md-button color="primary" *ngIf="extend" (mousedown)="createValue()">
          {{ 'btn_create_value' | translate }}
        </button>
      </div>
      
    </div>

    <div style="flex-grow: 2">
      <div *ngFor="let item of _values" class="multiselect-tag" [class.edit]="item.id" style="display:inline-block">
        {{ item.label }}
        <a *ngIf="item.id && !disabled" routerLink="/{{ api }}/{{ item.id }}" target="_blank" preserveQueryParams><md-icon>open_in_new</md-icon></a>
        <md-icon *ngIf="!disabled" (click)="removeValue(item, $event)" style="vertical-align: middle;">delete</md-icon>
      </div>
    </div>

    <div style="flex-grow: 1;text-align: right;">
      <span *ngIf="requirement === 'recommended' && !_values.length" class="recommended-field">{{ 'recommended' | translate }}</span>
      <md-icon class="tooltip-fields" *ngIf="description" [md-tooltip]="description">info_outline</md-icon>
      <md-icon class="tooltip-fields" [md-tooltip]="'multiplechoices' | translate ">info_outline</md-icon>
    </div>

  </div>
  <div class="md-input-underline" [class.md-disabled]="disabled">
    <span class="md-input-ripple"></span>
  </div>
</div>

