<span [formGroup]="form">

  <span *ngIf="!field.multiple" [ngSwitch]="field.controlType">

    <div *ngSwitchCase="'object'">
      <button (click)="remove($event)" md-icon-button color="warn" *ngIf="index !== null">-</button>
      {{ field.label.fr }}
      <isari-data-editor
        (onUpdate)="update($event)"
        [form]="getForm()"
        [layout]="field.layout"></isari-data-editor>
    </div>

    <isari-date *ngSwitchCase="'date'"
      (onUpdate)="update($event)"
      [name]="field.name"
      [label]="field.label.fr"
      [form]="form"></isari-date>

    <isari-select *ngSwitchCase="'select'"
      (onUpdate)="update($event)"
      [src]="field.src"
      [name]="field.name"
      [label]="field.label.fr"
      [form]="form"></isari-select>

    <isari-input *ngSwitchDefault
      (onUpdate)="update($event)"
      [name]="field.name"
      [label]="field.label.fr"
      [form]="form"></isari-input>

  </span>

  <span *ngIf="field.multiple" [formArrayName]="field.name">
    <isari-field *ngFor="let ctrl of form.controls[field.name].controls;let i = index"
      (onUpdate)="update($event)"
      [index]="i"
      [form]="form"
      [field]="getField(field)"></isari-field>
    <button (click)="add($event)" md-icon-button color="warn">+</button>
  </span>

</span>
