<div form novalidate [formGroup]="form" *ngIf="form">
  <a class="delete" href *ngIf="deletable && form.enabled" (click)="delete($event)"><md-icon>remove_circle_outline</md-icon></a>
  <md-card-content *ngFor="let group of layout">
    <md-card-subtitle *ngIf="group.label">
      {{ group.label }}
      <a class="collapse" href *ngIf="group.collapsabled" (click)="collapse($event, group)">
        <md-icon>{{ group.collapsed ? 'keyboard_arrow_down' : 'keyboard_arrow_up' }}</md-icon>
      </a>
    </md-card-subtitle>
    <div [hidden]="group.collapsed">
      <isari-field *ngFor="let field of group.fields"
        (onUpdate)="update($event)"
        [form]="form"
        [field]="field"
        [path]="(path ? path + '.' : '') + field.name"></isari-field>
    </div>
  </md-card-content>
</div>
